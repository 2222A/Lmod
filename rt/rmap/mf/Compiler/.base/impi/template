-- -*- lua -*-
local name         = myModuleName()
local fullVersion  = myModuleVersion()
local pkgName      = pathJoin(name, fullVersion)
local hierA        = hierarchyA(pkgName,1)
local compiler_dir = hierA[1]
local pkgVersion   = fullVersion:match('(%d+%.%d+)%.?')
local mroot        = os.getenv("MODULEPATH_ROOT")
local base         = pathJoin("/opt/apps",compiler_dir,name, fullVersion)

prepend_path("MODULEPATH",      pathJoin(mroot, "MPI", compiler_dir, name, pkgVersion))
prepend_path("PATH"             pathJoin(base,"bin"))
prepend_path("LD_LIBRARY_PATH", pathJoin(base,"lib"))

family("MPI")
