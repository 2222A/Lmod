\documentclass{beamer}

% You can also use a 16:9 aspect ratio:
%\documentclass[aspectratio=169]{beamer}
\usetheme{TACC16}

% It's possible to move the footer to the right:
%\usetheme[rightfooter]{TACC16}

%% page 
%\begin{frame}{}
%  \begin{itemize}
%    \item
%  \end{itemize}
%\end{frame}
%
%% page 
%\begin{frame}[fragile]
%    \frametitle{}
% {\tiny
%    \begin{semiverbatim}
%    \end{semiverbatim}
%}
%  \begin{itemize}
%    \item
%  \end{itemize}
%
%\end{frame}

\begin{document}
\title[Lmod]{Creating new tests for Lmod}
\author{Robert McLay} 
\date{April. 19, 2022}

% page 1
\frame{\titlepage} 


% page 2
\begin{frame}{Outline}
  \center{\includegraphics[width=.9\textwidth]{Lmod-4color@2x.png}}
  \begin{itemize}
    \item Showing how to create a test for Lmod
    \item Tclmodule test
    \item New Principal: An unload cannot fail!
    \item An intel module failing on unload
    \item Break on unload?
    \item Future Topics
  \end{itemize}
\end{frame}

% page 3
\begin{frame}{A Tclmodule test}
  \begin{itemize}
    \item A user reported that there was an extra space from a TCL
      modulefile
    \item This calls for a new test
    \item The following slides outline the steps
  \end{itemize}
\end{frame}

% page 4
\begin{frame}[fragile]
    \frametitle{Create a new tclmodule test}
  \begin{itemize}
    \item Create directory rt/tclmodule/mf
    \item Create a new tcl file a/1.0
  \end{itemize}

 {\small
    \begin{semiverbatim}
#%Module

global env
set home \$env(HOME)
set pkg "\$home/foo"
prepend-path PATH \$pkg/bin
setenv FOO\_DIR \$pkg

module-whatis "This \$pkg"
    \end{semiverbatim}
}
\end{frame}

% page 5
\begin{frame}[fragile]
    \frametitle{Create a tclmodule.tdesc}
  \begin{itemize}
    \item Copy rt/nvv/nvv.tdesc to rt/tclmodule/tclmodule.tdesc
    \item Edit to fit
    \item Add steps
    \item Test tclmodules
    \item update *.txt files
    \item run all tests
    \item update *.txt files when necessary
  \end{itemize}
 {\tiny
    \begin{semiverbatim}
   runScript = [[

     . \$(projectDir)/rt/common\_funcs.sh

     unsetMT
     initStdEnvVars
     export MODULEPATH=$(testDir)/mf

     rm -fr _stderr.* _stdout.* err.* out.* .lmod.d

     runLmod --version                         # 1
     runLmod whatis a                          # 2
    \end{semiverbatim}
}
\end{frame}

% page 
\begin{frame}[fragile]
    \frametitle{}
 {\tiny
    \begin{semiverbatim}
    \end{semiverbatim}
}
  \begin{itemize}
    \item
  \end{itemize}

\end{frame}


% page 21
\begin{frame}{Future Topics}
  \begin{itemize}
    \item Write one new test.
    \item Explain how Mname object converts names into a filename.
    \item More internals of Lmod?
  \end{itemize}
\end{frame}

\end{document}
